{"mappings":"oeACAA,EAAA,S,iBAGA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,WAEzBF,KAACG,GAAQJ,EAGfI,EAAKC,iBAAiB,UAItB,SAA2BC,GACzBA,EAAEC,iBAEF,IAAIC,GAASJ,EAAKI,MAAMC,MACxB,MAAMC,GAAQN,EAAKM,KAAKD,MAClBE,GAAUP,EAAKO,OAAOF,MAE5B,IAAI,IAAIG,EAAS,EAAGA,GAAYD,EAAQC,GAAW,EACjDC,EAASC,KAAKC,EAAcH,EAAUJ,IACtCA,GAASE,EAWXG,EAASG,SAAQC,IACfA,EACCC,MAAK,EAACN,SAAEA,EAAQJ,MAAEA,MACjBW,EAAAC,OAAOC,QAAQ,uBAAqBT,QAAiBJ,MAAU,IAEhEc,OAAM,EAACV,SAAEA,EAAQJ,MAAEA,MAClBW,EAAAC,OAAOG,QAAQ,sBAAoBX,QAAeJ,MAAU,GAC5D,IAbJK,EAASW,OAAS,EAClBpB,EAAKqB,O,IAjBN,IAAIZ,EAAW,GAqChB,SAASE,EAAcH,EAAUJ,GAE/B,MAAMkB,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACzBC,YAAY,KACTN,EACHI,EAAQ,C,SAAClB,E,MAAUJ,IAEnBuB,EAAO,C,SAACnB,E,MAAUJ,GAAO,GAEzBA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n}\nconst {form} = refs;\n\n\nform.addEventListener('submit', getArrayPromises)\n\n let promises = [];\n\nfunction getArrayPromises (e){\n  e.preventDefault();\n\n  let delay = +form.delay.value;\n  const step = +form.step.value;\n  const amount = +form.amount.value;\n  \n  for(let position=1; position <= amount; position +=1 ) {\n    promises.push(createPromise(position, delay));\n    delay += step;\n    \n  }\n  \n  getPromis (promises);\n  promises.length = 0;\n  form.reset();   \n}\n\n\nfunction getPromis (array){\n  promises.forEach(promise => {\n    promise\n    .then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n\n  });\n  \n};\n\n\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n      setTimeout (() => {\n     if (shouldResolve){\n      resolve({position, delay});\n    } else\n      reject({position, delay})\n     \n   }, delay);\n   \n  });\n\n     \n}\n  \n\n\n\n\n\n\n\n"],"names":["parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","$47d4ff9957288465$var$form","addEventListener","e","preventDefault","delay","value","step","amount","position","$47d4ff9957288465$var$promises","push","$47d4ff9957288465$var$createPromise","forEach","promise","then","$iQIUW","Notify","success","catch","failure","length","reset","shouldResolve","Math","random","Promise","resolve","reject","setTimeout"],"version":3,"file":"03-promises.d916faec.js.map"}